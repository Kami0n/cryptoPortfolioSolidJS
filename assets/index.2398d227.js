import{d as M,c as O,i as l,a as w,t as a,b as T,S as I,e as P,F as z,s as A,r as B}from"./vendor.f861ea70.js";const j=function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function p(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=p(t);fetch(t.href,s)}};j();const D=[{name:"ADA",id:"cardano",qty:1,invested:1},{name:"BTC",id:"bitcoin",qty:1,invested:3e4},{name:"MATIC",id:"matic-network",qty:200,invested:100}];var C={items:D};const $=a('<div class="number"></div>'),G=a('<div class="number"> %</div>'),J=a('<div class="assetsGrid"><div class="asset legend list-group-item-action list-group-item-dark"><div class="name">Name</div><div class="">Quantity</div><div class="">Invested [\u20AC]</div><div class="">Price now [\u20AC]</div><div class="">Worth now [\u20AC]</div><div class="">Percent change [%]</div><div class="">Profit [\u20AC]</div></div><div class="asset legend list-group-item-action list-group-item-dark"><div class="name">SUM</div></div></div>'),K=a('<input type="number" name="invested" size="1" placeholder="0.00000000" autofocus>'),Q=a('<input type="number" name="invested" size="1" placeholder="0.00" autofocus>'),R=a('<div class="asset list-group-item-action list-group-item-light"><div class="name"></div><div class="number qty"></div><div class="number invested"></div><div class="number currentPrice"></div><div class="number worth"></div><div class="number percent"> %</div><div class="number profit"></div></div>'),U=a("<div></div>"),W=a('<header class="bd-header bg-dark py-3 d-flex align-items-stretch border-bottom border-dark"><div class="container-fluid d-flex align-items-center"><h1 class="d-flex align-items-center fs-4 text-white mb-0">Crypto Portfolio Tracker</h1></div></header>'),X=a('<div class="main-content container-fluid bg-body"></div>');console.clear();const H=async u=>(await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${u[0]}&vs_currencies=${u[1]}`)).json(),V=u=>{const m=(n,c)=>(n>100&&(n=100),n>0?`background-color:hsl(130, 100%, ${(1-n/c)*80+20}%)`:(n=Math.abs(n),`background-color:hsl(0, 100%, ${(1-n/c)*80+20}%)`)),p=n=>u[n]==null?0:u[n].eur,[r,t]=T({items:[],sumNow:0,sumInvest:0,totalProfit:0,totalPercent:0});t(C);function s(){t("items",{},i=>({currentPrice:p(i.id)})),t("items",{},i=>({worth:i.currentPrice*i.qty})),t("items",{},i=>({profit:i.worth-i.invested})),t("items",{},i=>({percent:i.invested>0?i.profit/i.invested*100:0}));let n=0,c=0;r.items.map(i=>{n+=i.invested,c+=i.worth}),t("sumNow",c),t("sumInvest",n);let d=r.sumNow-r.sumInvest;t("totalProfit",d);let e=d/r.sumInvest*100;t("totalPercent",e)}s();const f=(n,c)=>{t("items",d=>d.name!==n,"showInput",void 0),t("items",d=>d.name===n,"showInput",c)};let v;const b=(n,c,d)=>{const e=parseFloat(n.value);t("items",i=>i.name===c,d,e),n.value="",t("items",i=>i.name===c,"showInput",void 0),s()},x=8,F=100;return(()=>{const n=J.cloneNode(!0),c=n.firstChild,d=c.nextSibling;return d.firstChild,l(n,w(z,{get each(){return r.items},children:e=>(()=>{const i=R.cloneNode(!0),y=i.firstChild,N=y.nextSibling,k=N.nextSibling,S=k.nextSibling,q=S.nextSibling,_=q.nextSibling,E=_.firstChild,L=_.nextSibling;return l(y,()=>e.name),N.$$dblclick=()=>{f(e.name,"qty")},l(N,w(I,{get when(){return e.showInput==="qty"},get fallback(){return e.qty.toFixed(x)},get children(){const o=K.cloneNode(!0);o.$$focusout=h=>{b(v,e.name,"invested")},o.$$keydown=h=>{h.key==="Enter"&&b(v,e.name,"qty")};const g=v;return typeof g=="function"?g(o):v=o,P(()=>o.value=e.qty.toFixed(x)),o}})),k.$$dblclick=()=>{f(e.name,"invested")},l(k,w(I,{get when(){return e.showInput==="invested"},get fallback(){return e.invested.toFixed(2)},get children(){const o=Q.cloneNode(!0);o.$$focusout=h=>{b(v,e.name,"invested")},o.$$keydown=h=>{h.key==="Enter"&&b(v,e.name,"invested")};const g=v;return typeof g=="function"?g(o):v=o,P(()=>o.value=e.invested.toFixed(2)),o}})),l(S,()=>e.currentPrice.toFixed(x)),l(q,()=>e.worth.toFixed(2)),l(_,()=>e.percent.toFixed(0),E),l(L,()=>e.profit.toFixed(2)),P(o=>A(_,m(e.percent,F),o)),i})()}),d),l(d,w(I,{get when(){return r.sumInvest>0},get fallback(){return U.cloneNode(!0)},get children(){return[$.cloneNode(!0),(()=>{const e=$.cloneNode(!0);return l(e,()=>r.sumInvest.toFixed(2)),e})(),$.cloneNode(!0),(()=>{const e=$.cloneNode(!0);return l(e,()=>r.sumNow.toFixed(2)),e})(),(()=>{const e=G.cloneNode(!0),i=e.firstChild;return l(e,()=>r.totalPercent.toFixed(0),i),P(y=>A(e,m(r.totalPercent,F),y)),e})(),(()=>{const e=$.cloneNode(!0);return l(e,()=>r.totalProfit.toFixed(2)),e})()]}}),null),n})()},Y=()=>{let u="";C.items.forEach(function(r){u=u+r.id+","});const[m,p]=O();return H([u,"eur,usd"]).then(r=>{p(V(r))}),[W.cloneNode(!0),(()=>{const r=X.cloneNode(!0);return l(r,m),r})()]};M(["dblclick","keydown","focusout"]);B(Y,document.getElementById("root"));
